[gd_scene load_steps=35 format=3 uid="uid://xcgdf4cn2vir"]

[ext_resource type="Script" path="res://Scripts/player.gd" id="1_mnd8j"]
[ext_resource type="Texture2D" uid="uid://cj56gvxbatwq7" path="res://Assets/Sprites/Player/PlayerClimb.png" id="2_lc3sb"]
[ext_resource type="Texture2D" uid="uid://cueftfhpyjyaj" path="res://Assets/Sprites/Player/PlayerIdle.png" id="2_uwl05"]
[ext_resource type="Texture2D" uid="uid://do2f84i2pb0f" path="res://Assets/Sprites/Player/PlayerJump.png" id="3_yio8t"]
[ext_resource type="Texture2D" uid="uid://cio31es8l47vy" path="res://Assets/Sprites/Player/PlayerWalk.png" id="4_7nvss"]
[ext_resource type="Texture2D" uid="uid://d4fvj3u3xidli" path="res://Assets/Sprites/InteriorObjects/gas_can.png" id="7_l87e4"]
[ext_resource type="Texture2D" uid="uid://87nwbe24kw8j" path="res://Assets/Sprites/InteriorObjects/scrap.png" id="7_wt0yo"]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_tucjc"]
radius = 5.0
height = 18.0

[sub_resource type="AtlasTexture" id="AtlasTexture_suyiv"]
atlas = ExtResource("2_lc3sb")
region = Rect2(0, 0, 17, 17)

[sub_resource type="AtlasTexture" id="AtlasTexture_rocjd"]
atlas = ExtResource("2_lc3sb")
region = Rect2(17, 0, 17, 17)

[sub_resource type="AtlasTexture" id="AtlasTexture_u27ju"]
atlas = ExtResource("2_lc3sb")
region = Rect2(34, 0, 17, 17)

[sub_resource type="AtlasTexture" id="AtlasTexture_k4cr3"]
atlas = ExtResource("2_lc3sb")
region = Rect2(51, 0, 17, 17)

[sub_resource type="AtlasTexture" id="AtlasTexture_nbdri"]
atlas = ExtResource("2_uwl05")
region = Rect2(0, 0, 17, 17)

[sub_resource type="AtlasTexture" id="AtlasTexture_fv6il"]
atlas = ExtResource("2_uwl05")
region = Rect2(17, 0, 17, 17)

[sub_resource type="AtlasTexture" id="AtlasTexture_gar3d"]
atlas = ExtResource("2_uwl05")
region = Rect2(34, 0, 17, 17)

[sub_resource type="AtlasTexture" id="AtlasTexture_fectb"]
atlas = ExtResource("2_uwl05")
region = Rect2(51, 0, 17, 17)

[sub_resource type="AtlasTexture" id="AtlasTexture_vnrxg"]
atlas = ExtResource("3_yio8t")
region = Rect2(0, 0, 17, 17)

[sub_resource type="AtlasTexture" id="AtlasTexture_86p1t"]
atlas = ExtResource("3_yio8t")
region = Rect2(17, 0, 17, 17)

[sub_resource type="AtlasTexture" id="AtlasTexture_cskjj"]
atlas = ExtResource("3_yio8t")
region = Rect2(34, 0, 17, 17)

[sub_resource type="AtlasTexture" id="AtlasTexture_6rdpg"]
atlas = ExtResource("3_yio8t")
region = Rect2(51, 0, 17, 17)

[sub_resource type="AtlasTexture" id="AtlasTexture_16haa"]
atlas = ExtResource("4_7nvss")
region = Rect2(0, 0, 17, 17)

[sub_resource type="AtlasTexture" id="AtlasTexture_v4087"]
atlas = ExtResource("4_7nvss")
region = Rect2(17, 0, 17, 17)

[sub_resource type="AtlasTexture" id="AtlasTexture_bk6ux"]
atlas = ExtResource("4_7nvss")
region = Rect2(34, 0, 17, 17)

[sub_resource type="AtlasTexture" id="AtlasTexture_17oa5"]
atlas = ExtResource("4_7nvss")
region = Rect2(51, 0, 17, 17)

[sub_resource type="AtlasTexture" id="AtlasTexture_xyrvh"]
atlas = ExtResource("4_7nvss")
region = Rect2(85, 0, 17, 17)

[sub_resource type="AtlasTexture" id="AtlasTexture_wqyih"]
atlas = ExtResource("4_7nvss")
region = Rect2(68, 0, 17, 17)

[sub_resource type="AtlasTexture" id="AtlasTexture_qqd0o"]
atlas = ExtResource("4_7nvss")
region = Rect2(102, 0, 17, 17)

[sub_resource type="AtlasTexture" id="AtlasTexture_43kxb"]
atlas = ExtResource("4_7nvss")
region = Rect2(119, 0, 17, 17)

[sub_resource type="SpriteFrames" id="SpriteFrames_8543d"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_suyiv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rocjd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_u27ju")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_k4cr3")
}],
"loop": true,
"name": &"climb",
"speed": 24.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_nbdri")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fv6il")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gar3d")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fectb")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_vnrxg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_86p1t")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_cskjj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6rdpg")
}],
"loop": false,
"name": &"jump",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_16haa")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_v4087")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bk6ux")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_17oa5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xyrvh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wqyih")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qqd0o")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_43kxb")
}],
"loop": true,
"name": &"walk",
"speed": 24.0
}]

[sub_resource type="CircleShape2D" id="CircleShape2D_ha5a3"]
radius = 8.24621

[sub_resource type="Animation" id="Animation_uy3w3"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:zoom")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(1, 1)]
}

[sub_resource type="Animation" id="Animation_oang3"]
resource_name = "zoom_min"
length = 1.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:zoom")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(1, 1), Vector2(3, 3)]
}

[sub_resource type="Animation" id="Animation_khbuv"]
resource_name = "zoom_out"
length = 1.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:zoom")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(3, 3), Vector2(1, 1)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_mw0ba"]
_data = {
"RESET": SubResource("Animation_uy3w3"),
"zoom_in": SubResource("Animation_oang3"),
"zoom_out": SubResource("Animation_khbuv")
}

[node name="player" type="CharacterBody2D" groups=["Climber"]]
z_index = 1
collision_layer = 4144
collision_mask = 48
script = ExtResource("1_mnd8j")

[node name="CollisionShapePlayer" type="CollisionShape2D" parent="."]
shape = SubResource("CapsuleShape2D_tucjc")

[node name="PlayerSprite" type="AnimatedSprite2D" parent="."]
sprite_frames = SubResource("SpriteFrames_8543d")
animation = &"jump"

[node name="InteractionArea" type="Area2D" parent="."]
collision_layer = 16
collision_mask = 16

[node name="InteractionAreaShape" type="CollisionShape2D" parent="InteractionArea"]
shape = SubResource("CircleShape2D_ha5a3")

[node name="target" type="Node2D" parent="."]

[node name="PlayerCam" type="Camera2D" parent="."]
position = Vector2(0, -1)
process_callback = 0
limit_smoothed = true
position_smoothing_enabled = true
drag_horizontal_enabled = true
drag_vertical_enabled = true
editor_draw_limits = true

[node name="ZoomAnimation" type="AnimationPlayer" parent="PlayerCam"]
libraries = {
"": SubResource("AnimationLibrary_mw0ba")
}

[node name="FuelSprite" type="Sprite2D" parent="."]
visible = false
position = Vector2(7, 0)
texture = ExtResource("7_l87e4")

[node name="ScrapSprite" type="Sprite2D" parent="."]
visible = false
position = Vector2(7, 0)
texture = ExtResource("7_wt0yo")

[connection signal="area_entered" from="InteractionArea" to="." method="_on_interaction_area_area_entered"]
[connection signal="area_exited" from="InteractionArea" to="." method="_on_interaction_area_area_exited"]
